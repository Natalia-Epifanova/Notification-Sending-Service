# Система уведомлений
## Описание
Сервис для отправки уведомлений пользователям через несколько каналов связи с автоматическим резервированием.

## Возможности
1. Отправка уведомлений через:
- Email
- SMS (через API Tele2)
- Telegram бота
2. Автоматический переход на резервный канал при неудачной отправке
3. Хранение истории уведомлений
4. Управление контактными данными пользователей

## Установка
Клонировать репозиторий:
 
```git clone https://github.com/Natalia-Epifanova/Notification-Sending-Service```

Установить зависимости:

```pip install -r requirements.txt```

Настройка окружения:
- Создать файл ```.env``` и заполнить настройки согласно файлу ```.env.example```:
- Применить миграции:
```python manage.py migrate```
- Запустить сервер:
```python manage.py runserver```

## API Endpoints
Аутентификация: 

```POST /notifications/auth/register/``` - Регистрация нового пользователя

```POST /notifications/auth/token/``` - Получение JWT токена

```POST /notifications/auth/token/``` - Обновление JWT токена

Уведомления:

```GET /notifications/``` - Список уведомлений пользователя

```POST /notifications/``` - Создание уведомления

```POST /notifications/notifications/send/``` - Отправка уведомления

Контакты:

```GET /user-contacts/``` - Получение контактов пользователя

```POST /user-contacts/``` - Создание/обновление контактов


## Алгоритм отправки уведомлений
Попытка отправки по Email

Если Email не сработал - попытка отправки SMS

Если SMS не сработало - попытка отправки в Telegram

Если все способы не сработали - возвращается ошибка

## Настройка каналов связи
Для работы всех каналов уведомлений необходимо:
- Указать SMTP настройки для Email в .env
- Получить API ключ для Tele2 SMS
- Создать Telegram бота и указать его токен

## Технологии
- Django
- Django REST Framework
- JWT аутентификация
- PostgreSQL
- Telegram Bot API
- Tele2 SMS API